<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hexo博客搭建过程]]></title>
    <url>%2Fpost%2F38e96c5b.html</url>
    <content type="text"><![CDATA[环境准备 安装git 下载地址 安装Nodejs 下载地址 添加SSH Key到GitHub 安装cnpmnpm太慢，而且经常失败，使用淘宝镜像：1npm install -g cnpm --registry=https://registry.npm.taobao.org 安装hexo git bash下执行以下命令安装: 1cnpm i -g hexo 新建目录博客目录:C:/ADEV/myblog cd 到myblog并执行以下命令初始化hexo: 1hexo init 接下来的命令如果不是特意说明，都是在站点目录下执行。 查看博客雏形:123hexo clean #清理hexo g #生成网页hexo s #启动本地服务器 在浏览器中打开http://localhost:4000 ,就可以看到本地博客主页了。 创建文章Ctrl+C退出hexo服务，执行以下命令创建新的文章:1hexo new test 终端会有以下输出:1INFO Created: C:\ADEV\myblog\source\_posts\test.md Hexo所有的文章都是Markdown文件，以后也可不通过命令，直接在_posts目录下创建新的文章。 美化博客 - 使用Next主题Hexo有很多第三方主题，研究了一圈，最终决定使用Next。Next很美观，很成熟，集成了你能想到的所有功能，大部分情况下只需要修改主题配置文件就行了，强烈推荐。 下载地址: https://github.com/theme-next/hexo-theme-next 解压到C:/ADEV/myblog/themes目录下，并重命名为next6 打开站点配置文件C:/ADEV/myblog/_config.yml， 找到theme字段，并将其值更改为next6 1theme: next6 两个重要的配置文件构建博客的过程中会经常修改一下两个配置文件: 站点配置文件：C:/ADEV/myblog/_config.yml 主题配置文件: C:/ADEV/myblog/themes/next6/_config.yml 发布到GitHub 创建一个GitHub repository,名称为yourgithubname.github.io（yourgithubname替换为你的GitHub账户名） 修改站点配置文件: 1234deploy: type: git repo: https://github.com/yourgithubName/yourgithubName.github.io.git branch: master 注意格式，子项前面有两个空格，冒号后面有一个空格。 如果接下来发布出错，请尝试将repo修改成以下形式: 1repo: git@github.com:yourgithubName/yourgithubName.github.io.git 安装发布模块: 1npm install hexo-deployer-git --save 执行以下命令发布: 123hexo cleanhexo ghexo d #发布 在浏览器访问https://yourgithubname.github.io ,就可以看到你的博客了。 站点配置:以下配置请查找关键字修改。 语言改为中文: 1language: zh-CN 注意在你的主题language目录下应该包含你所配置的语言配置文件，本例为:C:/ADEV/myblog/themes/next6/languages/zh-CN.yml。 Next不同版本中文配置名字可能不一样，有的版本是zh-Hans，请根据具体情况配置。 标题&amp;作者: 12title: 善生的个人博客author: 善生 URL唯一化: 安装模块: 1cnpm install hexo-abbrlink --save 修改配置: 1234567# URLpermalink: post/:abbrlink.html permalink_defaults: abbrlink: alg: crc32 # 算法：crc16(default) and crc32 rep: hex # 进制：dec(default) and hex 自定义博文文件名格式（添加日期前缀，方便管理）: 12# Writingnew_post_name: :year:month:day-:title.md # File name of new posts 图片文件夹: 12# Writingpost_asset_folder: true 使用命令创建新的博文之后,会在博文同一目录下生成和博文同名的文件夹，把图片放入此文件夹下，图片有两种使用方法: 123![说明](图片.jpg)&#123;% asset_img 图片.jpg 说明 %&#125; 主题配置: 站点日期: 12footer: since: 2018 去掉底部一些链接: 123456powered: enable: false version: falsetheme: enable: false version: false 博客标签页面，分类页面: 执行以下命令: 12hexo new page tagshexo new page categories 修改标签页C:/ADEV/myblog/source/tags/index.md: 123456---title: 所有标签date: 2018-08-15 22:56:08type: "tags"comments: false--- 修改分类页C:/ADEV/myblog/source/categories/index.md: 123456---title: 所有分类date: 2018-08-15 23:04:31type: "categories"comments: false--- 修改主题配置文件: 123menu: tags: /tags/ categories: /categories/ Next样式: Next有四种样式,我使用的是Pisces： 12# Schemesscheme: Pisces 个人GitHub和Email: 123social: GitHub: https://github.com/lano2088 E-Mail: mailto:warrenvip@163.com 头像: 将头像图片放到此位置:C:\ADEV\myblog\themes\next6\source\images\main.png，也可以是gif文件。修改主题配置: 12avatar: url: /images/main.png 更改头像最大宽度: 根据你的头像宽度，修改样式文件:C:/ADEV/myblog/themes/next6/source/css/_variables/Pisces.styl: 1$site-author-image-width = 220px 如果你用的是其它样式，请修改对应的文件。 开启打赏功能: 将你的微信和支付宝二维码放到主题的images目录下: 1234# Rewardsreward_comment: 欢迎打赏wechatpay: /images/wechatpay.pngalipay: /images/alipay.png 百度分享: 12baidushare: type: button 文章阅读量，访客统计:编辑主题配置文件:12345678busuanzi_count: enable: true total_visitors: true total_visitors_icon: user total_views: true total_views_icon: eye post_views: true post_views_icon: eye 集成第三方评论功能第三方评论插件有很多，但是好用的不多。尝试过用来必力，但是注册失败了。看了下畅言，需要绑定备案的域名，不支持GitHub，好像免费版还有广告。最后决定使用gitment,他是借助了GitHub的issues功能实现的。好像可以实现有评论发送邮件，如果有自己的域名，再绑定腾讯企业邮箱，可以实现微信推送,具体还没研究。 gitment示例页面: https://imsun.github.io/gitment/ 注册 GitHub OAuth Application 点击此处 来注册一个新的 OAuth Application。其他内容可以随意填写，但要确保填入正确的 Authorization callback URL（一般是评论页面对应的域名，如 https://lano2088.github.io 或者个人域名：http://lanovip.xyz ，多个站点不能共用）。 你会得到一个 client ID 和一个 client secret，这个将被用于之后的用户登录。 编辑主题配置文件: 123456gitment: enable: true github_user: your_github_name # MUST HAVE, Your Github Username github_repo: your_comment_repo # MUST HAVE, The name of the repo you use to store Gitment comments client_id: your_client_id # MUST HAVE, Github client id for the Gitment client_secret: your_client_secret # EITHER this or proxy_gateway, Github access secret token for the Gitment 每篇文章发布之后需要到文章页面底部用你的GitHub账户登录，初始化评论。虽然有点麻烦，个人觉得还好。毕竟个人博客文章量有限。网上有批量初始化方法，请自行百度。 博客搜索功能 安装模块: 1cnpm install hexo-generator-searchdb --save 修改站点配置: 123456# 搜索search:path: search.xmlfield: postformat: htmllimit: 10000 修改主题配置: 12local_search: enable: true 修改文章内链接文本样式修改文件 themes\next6\source\css_common\components\post\post.styl，在末尾添加如下css样式：1234567891011// 文章内链接文本样式.post-body p a&#123; color: #0593d3; border-bottom: none; border-bottom: 1px solid #0593d3; &amp;:hover &#123; color: #fc6423; border-bottom: none; border-bottom: 1px solid #fc6423; &#125;&#125; 其中选择.post-body 是为了不影响标题，选择 p 是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。 压缩发布 - 优化博客加载速度在站点的根目录下执行以下命令：12cnpm install gulp -gcnpm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save 新建 gulpfile.js ，并填入以下内容： 123456789101112131415161718192021222324252627282930313233var gulp = require('gulp');var minifycss = require('gulp-minify-css');var uglify = require('gulp-uglify');var htmlmin = require('gulp-htmlmin');var htmlclean = require('gulp-htmlclean');// 压缩 public 目录 cssgulp.task('minify-css', function() &#123; return gulp.src('./public/**/*.css') .pipe(minifycss()) .pipe(gulp.dest('./public'));&#125;);// 压缩 public 目录 htmlgulp.task('minify-html', function() &#123; return gulp.src('./public/**/*.html') .pipe(htmlclean()) .pipe(htmlmin(&#123; removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true, &#125;)) .pipe(gulp.dest('./public'))&#125;);// 压缩 public/js 目录 jsgulp.task('minify-js', function() &#123; return gulp.src('./public/**/*.js') .pipe(uglify()) .pipe(gulp.dest('./public'));&#125;);// 执行 gulp 命令时执行的任务gulp.task('default', [ 'minify-html','minify-css','minify-js']); 生成博文时执行hexo g &amp;&amp; gulp就会根据gulpfile.js中的配置，对public目录中的静态资源文件进行压缩。 七牛云CDN加速把图片放到七牛云上面，生成外链，可以优化博客访问速度。七牛云的免费流量完全可以满足个人博客的需求。 参考链接: Next官网 Next酷炫效果 Markdown语法 如何优雅的发布hexo博客 Gitment：使用 GitHub Issues 搭建评论系统]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fpost%2F4a17b156.html</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
